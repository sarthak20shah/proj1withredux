{"ast":null,"code":"var _jsxFileName = \"/home/root-pc/Desktop/INTERN/projects/proj1withredux/src/components/Ed.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Table, Input, InputNumber, Popconfirm, Form, Typography, Button } from \"antd\";\nimport { useHistory } from \"react-router\";\n// import Modal from \"antd/lib/modal/Modal\";\nimport { Modal } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst originData = [];\n\nfor (let i = 0; i < 20; i++) {\n  originData.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    id: i,\n    email: `London Park no. ${i}`\n  });\n}\n\nconst EditableCell = ({\n  editing,\n  dataIndex,\n  title,\n  inputType,\n  record,\n  index,\n  children,\n  ...restProps\n}) => {\n  const inputNode = inputType === \"number\" ? /*#__PURE__*/_jsxDEV(InputNumber, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 46\n  }, this) : /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 64\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"td\", { ...restProps,\n    children: editing ? /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: dataIndex,\n      style: {\n        margin: 0\n      },\n      rules: [{\n        required: true,\n        message: `Please Input ${title}!`\n      }],\n      children: inputNode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this) : children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_c = EditableCell;\n\nconst Ed = () => {\n  _s();\n\n  const [form] = Form.useForm();\n  const [data, setData] = useState(originData);\n  const [editingKey, setEditingKey] = useState(\"\");\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [t1, setT1] = useState({\n    key: \"121121212\",\n    id: 1000001,\n    name: \"1212121\",\n    email: \"asa@gmail.com\"\n  });\n  let history = useHistory();\n\n  const isEditing = record => record.key === editingKey;\n\n  let userdata = useSelector(state => state);\n  const dispatch = useDispatch();\n\n  const edit = record => {\n    form.setFieldsValue({\n      name: \"\",\n      id: \"\",\n      email: \"\",\n      ...record\n    });\n    setEditingKey(record.key);\n  };\n\n  const cancel = () => {\n    setEditingKey(\"\");\n  };\n\n  const save = async key => {\n    try {\n      const row = await form.validateFields();\n      const newData = [...data];\n      const index = newData.findIndex(item => key === item.key);\n\n      if (index > -1) {\n        const item = newData[index];\n        newData.splice(index, 1, { ...item,\n          ...row\n        });\n        setData(newData);\n        setEditingKey(\"\");\n      } else {\n        newData.push(row);\n        setData(newData);\n        setEditingKey(\"\");\n      }\n    } catch (errInfo) {\n      console.log(\"Validate Failed:\", errInfo);\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"Hello this is from console log use effect\");\n    fetch(\"https://jsonplaceholder.typicode.com/users\").then(response => response.json()).then(data => {\n      console.log(\"response\", data); // setData(data);\n\n      if (localStorage.getItem(\"tableData\") === null) localStorage.setItem(\"tableData\", JSON.stringify(data)); // console.log(\"data\", data);\n\n      let tempData = localStorage.getItem(\"tableData\");\n      let jsonTempData = JSON.parse(tempData);\n      let finaData = [];\n      jsonTempData.map(ele => {\n        let temp = {};\n        temp.key = ele.id;\n        temp.name = ele.name;\n        temp.id = ele.id;\n        temp.email = ele.email;\n        finaData.push(temp);\n      });\n      console.log(\"finalData\", finaData);\n      setData(finaData);\n    });\n    console.log(\"data123\", userdata);\n  }, []);\n\n  const handleAdd = () => {\n    // const newData: any = {\n    //   key: \"1\",\n    //   name: `Edward King `,\n    //   id: 32,\n    //   email: `London, Park Lane no. `,\n    // };\n    // this.setState({\n    //   dataSource: [...dataSource, newData],\n    //   count: count + 1,\n    // });\n    // setData([...data, newData]);\n    history.push(\"/addnew\");\n  };\n\n  const dataSource = [...data];\n\n  const handleDelete = key => {\n    console.log(\"datasource\", dataSource);\n    let anyData = dataSource.filter(item => item.key !== key);\n    console.log(\"anyData\", anyData);\n    setData(anyData);\n  };\n\n  let anyData2;\n\n  const showModal = key => {\n    anyData2 = dataSource.filter(item => item.key === key);\n    console.log(\"anyData2\", anyData2[0]);\n    userdata = dataSource.filter(item => item.key === key)[0];\n    setT1(userdata);\n    console.log(\"data123 from view\", userdata);\n    dispatch({\n      type: \"VIEW\",\n      payload: userdata\n    }); // setIsModalVisible(true);\n\n    history.push(\"/view\");\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const columns = [{\n    title: \"name\",\n    dataIndex: \"name\",\n    width: \"25%\",\n    editable: true\n  }, {\n    title: \"id\",\n    dataIndex: \"id\",\n    width: \"15%\",\n    editable: true,\n    sorter: {\n      compare: (a, b) => a.id - b.id,\n      multiple: 1\n    }\n  }, {\n    title: \"email\",\n    dataIndex: \"email\",\n    width: \"40%\",\n    editable: true,\n    sorter: (a, b) => a.email.localeCompare(b.email)\n  }, {\n    title: \"\",\n    dataIndex: \"operation\",\n    render: (_, record) => {\n      const editable = isEditing(record);\n      return editable ? /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"javascript:;\",\n          onClick: () => save(record.key),\n          style: {\n            marginRight: 8\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n          title: \"Sure to cancel?\",\n          onConfirm: cancel,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Typography.Link, {\n        disabled: editingKey !== \"\",\n        onClick: () => edit(record),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    title: \"\",\n    dataIndex: \"operation\",\n    render: (_, record) => data.length >= 1 ? /*#__PURE__*/_jsxDEV(Popconfirm, {\n      title: \"Sure to delete?\",\n      onConfirm: () => handleDelete(record.key),\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }, this) : null\n  }, {\n    title: \"\",\n    dataIndex: \"operation\",\n    render: (_, record) => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: () => showModal(record.key),\n        children: \"View\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Basic Modal\",\n        visible: isModalVisible,\n        onOk: handleOk,\n        onCancel: handleCancel,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Name is: \", t1.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Email is: \", t1.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Id is: \", t1.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }];\n  const mergedColumns = columns.map(col => {\n    if (!col.editable) {\n      return col;\n    }\n\n    return { ...col,\n      onCell: record => ({\n        record,\n        inputType: col.dataIndex === \"id\" ? \"number\" : \"text\",\n        dataIndex: col.dataIndex,\n        title: col.title,\n        editing: isEditing(record)\n      })\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: \"btn btn-primary btn-raised\",\n      style: {\n        margin: \"50px\"\n      },\n      onClick: handleAdd,\n      children: \"Add new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      component: false,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        components: {\n          body: {\n            cell: EditableCell\n          }\n        },\n        style: {\n          width: \"100%\",\n          overflow: \"scroll\"\n        },\n        bordered: true,\n        dataSource: data,\n        rowKey: \"ffgf\",\n        columns: mergedColumns,\n        rowClassName: \"editable-row\",\n        pagination: {\n          onChange: cancel\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Ed, \"JyNvXJI7jWDxjyq1OJu5PR4oHJE=\", false, function () {\n  return [Form.useForm, useHistory, useSelector, useDispatch];\n});\n\n_c2 = Ed;\nexport default Ed;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"EditableCell\");\n$RefreshReg$(_c2, \"Ed\");","map":{"version":3,"sources":["/home/root-pc/Desktop/INTERN/projects/proj1withredux/src/components/Ed.tsx"],"names":["React","useState","useEffect","Table","Input","InputNumber","Popconfirm","Form","Typography","Button","useHistory","Modal","useSelector","useDispatch","originData","i","push","key","toString","name","id","email","EditableCell","editing","dataIndex","title","inputType","record","index","children","restProps","inputNode","margin","required","message","Ed","form","useForm","data","setData","editingKey","setEditingKey","isModalVisible","setIsModalVisible","t1","setT1","history","isEditing","userdata","state","dispatch","edit","setFieldsValue","cancel","save","row","validateFields","newData","findIndex","item","splice","errInfo","console","log","fetch","then","response","json","localStorage","getItem","setItem","JSON","stringify","tempData","jsonTempData","parse","finaData","map","ele","temp","handleAdd","dataSource","handleDelete","anyData","filter","anyData2","showModal","type","payload","handleOk","handleCancel","columns","width","editable","sorter","compare","a","b","multiple","localeCompare","render","_","marginRight","length","mergedColumns","col","onCell","body","cell","overflow","onChange"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Table,\n  Input,\n  InputNumber,\n  Popconfirm,\n  Form,\n  Typography,\n  Button,\n} from \"antd\";\nimport { useHistory } from \"react-router\";\nimport { toast } from \"react-toastify\";\n// import Modal from \"antd/lib/modal/Modal\";\nimport { Modal } from \"antd\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { view } from \"../redux/rowData-redux/action\";\n\ninterface Item {\n  key: string;\n  name: string;\n  id: number;\n  email: string;\n}\n\nconst originData: Item[] = [];\nfor (let i = 0; i < 20; i++) {\n  originData.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    id: i,\n    email: `London Park no. ${i}`,\n  });\n}\n\ninterface EditableCellProps extends React.HTMLAttributes<HTMLElement> {\n  editing: boolean;\n  dataIndex: string;\n  title: any;\n  inputType: \"number\" | \"text\";\n  record: Item;\n  index: number;\n  children: React.ReactNode;\n}\n\nconst EditableCell: React.FC<EditableCellProps> = ({\n  editing,\n  dataIndex,\n  title,\n  inputType,\n  record,\n  index,\n  children,\n  ...restProps\n}) => {\n  const inputNode = inputType === \"number\" ? <InputNumber /> : <Input />;\n\n  return (\n    <td {...restProps}>\n      {editing ? (\n        <Form.Item\n          name={dataIndex}\n          style={{ margin: 0 }}\n          rules={[\n            {\n              required: true,\n              message: `Please Input ${title}!`,\n            },\n          ]}\n        >\n          {inputNode}\n        </Form.Item>\n      ) : (\n        children\n      )}\n    </td>\n  );\n};\n\nconst Ed = () => {\n  const [form] = Form.useForm();\n  const [data, setData] = useState(originData);\n  const [editingKey, setEditingKey] = useState(\"\");\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [t1, setT1] = useState({\n    key: \"121121212\",\n    id: 1000001,\n    name: \"1212121\",\n    email: \"asa@gmail.com\",\n  });\n  let history = useHistory();\n\n  const isEditing = (record: Item) => record.key === editingKey;\n\n  let userdata: any = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const edit = (record: Partial<Item> & { key: React.Key }) => {\n    form.setFieldsValue({ name: \"\", id: \"\", email: \"\", ...record });\n    setEditingKey(record.key);\n  };\n\n  const cancel = () => {\n    setEditingKey(\"\");\n  };\n\n  const save = async (key: React.Key) => {\n    try {\n      const row = (await form.validateFields()) as Item;\n\n      const newData = [...data];\n      const index = newData.findIndex((item) => key === item.key);\n      if (index > -1) {\n        const item = newData[index];\n        newData.splice(index, 1, {\n          ...item,\n          ...row,\n        });\n        setData(newData);\n        setEditingKey(\"\");\n      } else {\n        newData.push(row);\n        setData(newData);\n        setEditingKey(\"\");\n      }\n    } catch (errInfo) {\n      console.log(\"Validate Failed:\", errInfo);\n    }\n  };\n  useEffect(() => {\n    console.log(\"Hello this is from console log use effect\");\n    fetch(\"https://jsonplaceholder.typicode.com/users\")\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"response\", data);\n        // setData(data);\n        if (localStorage.getItem(\"tableData\") === null)\n          localStorage.setItem(\"tableData\", JSON.stringify(data));\n        // console.log(\"data\", data);\n        let tempData: any = localStorage.getItem(\"tableData\");\n        let jsonTempData = JSON.parse(tempData);\n        let finaData: any = [];\n        jsonTempData.map((ele: any) => {\n          let temp: any = {};\n          temp.key = ele.id;\n          temp.name = ele.name;\n          temp.id = ele.id;\n          temp.email = ele.email;\n          finaData.push(temp);\n        });\n        console.log(\"finalData\", finaData);\n        setData(finaData);\n      });\n    console.log(\"data123\", userdata);\n  }, []);\n\n  const handleAdd = () => {\n    // const newData: any = {\n    //   key: \"1\",\n    //   name: `Edward King `,\n    //   id: 32,\n    //   email: `London, Park Lane no. `,\n    // };\n    // this.setState({\n    //   dataSource: [...dataSource, newData],\n    //   count: count + 1,\n    // });\n    // setData([...data, newData]);\n    history.push(\"/addnew\");\n  };\n  const dataSource: any = [...data];\n  const handleDelete = (key: React.Key) => {\n    console.log(\"datasource\", dataSource);\n    let anyData: any = dataSource.filter((item: any) => item.key !== key);\n    console.log(\"anyData\", anyData);\n    setData(anyData);\n  };\n  let anyData2: any;\n  const showModal = (key: any) => {\n    anyData2 = dataSource.filter((item: any) => item.key === key);\n    console.log(\"anyData2\", anyData2[0]);\n    userdata = dataSource.filter((item: any) => item.key === key)[0];\n    setT1(userdata);\n    console.log(\"data123 from view\", userdata);\n\n    dispatch({ type: \"VIEW\", payload: userdata });\n\n    // setIsModalVisible(true);\n    history.push(\"/view\");\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n  const columns = [\n    {\n      title: \"name\",\n      dataIndex: \"name\",\n      width: \"25%\",\n      editable: true,\n    },\n    {\n      title: \"id\",\n      dataIndex: \"id\",\n      width: \"15%\",\n      editable: true,\n\n      sorter: {\n        compare: (a: any, b: any) => a.id - b.id,\n        multiple: 1,\n      },\n    },\n    {\n      title: \"email\",\n      dataIndex: \"email\",\n      width: \"40%\",\n      editable: true,\n      sorter: (a: any, b: any) => a.email.localeCompare(b.email),\n    },\n    {\n      title: \"\",\n      dataIndex: \"operation\",\n      render: (_: any, record: Item) => {\n        const editable = isEditing(record);\n        return editable ? (\n          <span>\n            <a\n              href=\"javascript:;\"\n              onClick={() => save(record.key)}\n              style={{ marginRight: 8 }}\n            >\n              Save\n            </a>\n            <Popconfirm title=\"Sure to cancel?\" onConfirm={cancel}>\n              <a>Cancel</a>\n            </Popconfirm>\n          </span>\n        ) : (\n          <Typography.Link\n            disabled={editingKey !== \"\"}\n            onClick={() => edit(record)}\n          >\n            Edit\n          </Typography.Link>\n        );\n      },\n    },\n\n    {\n      title: \"\",\n      dataIndex: \"operation\",\n      render: (_: any, record: { key: React.Key }) =>\n        data.length >= 1 ? (\n          <Popconfirm\n            title=\"Sure to delete?\"\n            onConfirm={() => handleDelete(record.key)}\n          >\n            <a>Delete</a>\n          </Popconfirm>\n        ) : null,\n    },\n    {\n      title: \"\",\n      dataIndex: \"operation\",\n      render: (_: any, record: { key: React.Key }) => (\n        <>\n          <Button type=\"primary\" onClick={() => showModal(record.key)}>\n            View\n          </Button>\n          <Modal\n            title=\"Basic Modal\"\n            visible={isModalVisible}\n            onOk={handleOk}\n            onCancel={handleCancel}\n          >\n            <p>Name is: {t1.name}</p>\n            <p>Email is: {t1.email}</p>\n            <p>Id is: {t1.id}</p>\n          </Modal>\n        </>\n      ),\n    },\n  ];\n\n  const mergedColumns = columns.map((col) => {\n    if (!col.editable) {\n      return col;\n    }\n    return {\n      ...col,\n      onCell: (record: Item) => ({\n        record,\n        inputType: col.dataIndex === \"id\" ? \"number\" : \"text\",\n        dataIndex: col.dataIndex,\n        title: col.title,\n        editing: isEditing(record),\n      }),\n    };\n  });\n\n  return (\n    <>\n      <Button\n        className=\"btn btn-primary btn-raised\"\n        style={{ margin: \"50px\" }}\n        onClick={handleAdd}\n      >\n        Add new\n      </Button>\n\n      <Form form={form} component={false}>\n        <Table\n          components={{\n            body: {\n              cell: EditableCell,\n            },\n          }}\n          style={{ width: \"100%\", overflow: \"scroll\" }}\n          bordered={true}\n          dataSource={data}\n          rowKey={\"ffgf\"}\n          columns={mergedColumns}\n          rowClassName=\"editable-row\"\n          pagination={{\n            onChange: cancel,\n          }}\n        />\n      </Form>\n    </>\n  );\n};\n\nexport default Ed;\n"]},"metadata":{},"sourceType":"module"}