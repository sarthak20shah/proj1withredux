{"ast":null,"code":"var _jsxFileName = \"/home/root-pc/Desktop/INTERN/projects/my-app/src/components/EditableTable.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Table, Button, Input, InputNumber, Popconfirm, Form, Typography } from 'antd';\nimport './TableCom.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet originData = []; // for (let i = 0; i < 10; i++) {\n//   originData.push({\n//     key: i.toString(),\n//     name: `Edrward ${i}`,\n//     age: 32,\n//     address: `London Park no. ${i}`,\n//   });\n// }\n\nconst EditableCell = ({\n  editing,\n  dataIndex,\n  title,\n  inputType,\n  record,\n  index,\n  children,\n  ...restProps\n}) => {\n  const inputNode = inputType === 'number' ? /*#__PURE__*/_jsxDEV(InputNumber, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 48\n  }, this) : /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 66\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"td\", { ...restProps,\n    children: editing ? /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: dataIndex,\n      style: {\n        margin: 0\n      },\n      rules: [{\n        required: true,\n        message: `Please Input ${title}!`\n      }],\n      children: inputNode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }, this) : children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 7\n  }, this);\n};\n\n_c = EditableCell;\n\nconst EditableTable = () => {\n  _s();\n\n  const [form] = Form.useForm();\n  const [editingKey, setEditingKey] = useState('');\n  const [count, setCount] = useState(0);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  useEffect(() => {\n    fetch('https://jsonplaceholder.typicode.com/users').then(response => response.json()).then(res => {\n      console.log(res);\n      res.map((x11, index) => originData.push({\n        \"key\": x11.id,\n        \"name\": x11.name,\n        \"age\": x11.id,\n        \"address\": x11.email\n      }));\n      console.log(\"originData------>\", originData);\n      setData(originData);\n    });\n  }, []);\n  const [data, setData] = useState(originData);\n\n  const isEditing = record => record.key === editingKey;\n\n  const edit = record => {\n    form.setFieldsValue({\n      name: '',\n      age: '',\n      address: '',\n      ...record\n    });\n    setEditingKey(record.key);\n  };\n\n  const delete1 = record => {\n    form.setFieldsValue({});\n    setEditingKey(record.key);\n  };\n\n  const view = record => {\n    form.setFieldsValue({});\n    setEditingKey(record.key);\n  };\n\n  const cancel = () => {\n    setEditingKey('');\n  };\n\n  const save = async key => {\n    try {\n      const row = await form.validateFields();\n      const newData = [...data];\n      const index = newData.findIndex(item => key === item.key);\n\n      if (index > -1) {\n        const item = newData[index];\n        newData.splice(index, 1, { ...item,\n          ...row\n        });\n        setData(newData);\n        setEditingKey('');\n      } else {\n        newData.push(row);\n        setData(newData);\n        setEditingKey('');\n      }\n    } catch (errInfo) {\n      console.log('Validate Failed:', errInfo);\n    }\n  };\n\n  const columns = [{\n    title: 'name',\n    dataIndex: 'name',\n    width: '25%',\n    editable: true\n  }, {\n    title: 'age',\n    dataIndex: 'age',\n    width: '15%',\n    editable: true\n  }, {\n    title: 'address',\n    dataIndex: 'address',\n    width: '40%',\n    editable: true\n  }, {\n    title: 'operation',\n    dataIndex: 'operation',\n    render: (_, record) => {\n      const editable = isEditing(record);\n      return editable ? /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"javascript:;\",\n          onClick: () => save(record.key),\n          style: {\n            marginRight: 8\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n          title: \"Sure to cancel?\",\n          onConfirm: cancel,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: showModal,\n          children: \"View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(Typography.Link, {\n          disabled: editingKey !== '',\n          onClick: () => edit(record),\n          style: {\n            marginRight: 8\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography.Link, {\n          disabled: editingKey !== '',\n          onClick: () => delete1(record),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true);\n    }\n  }];\n  const mergedColumns = columns.map(col => {\n    if (!col.editable) {\n      return col;\n    }\n\n    return { ...col,\n      onCell: record => ({\n        record,\n        inputType: col.dataIndex === 'age' ? 'number' : 'text',\n        dataIndex: col.dataIndex,\n        title: col.title,\n        editing: isEditing(record)\n      })\n    };\n  }); // const handleAdd = () => {\n  //   const newData: Item = {\n  //     key: String(count),\n  //     name: `Edward King ${count}`,\n  //     age: '32',\n  //     address: `London, Park Lane no. ${count}`,\n  //   };\n  //   this.setState({\n  //     dataSource: [...dataSource, newData],\n  //     count: count + 1,\n  //   });\n  // };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      component: false,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        components: {\n          body: {\n            cell: EditableCell\n          }\n        },\n        bordered: true,\n        dataSource: data,\n        columns: mergedColumns,\n        rowClassName: \"editable-row\",\n        pagination: {\n          onChange: cancel\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(EditableTable, \"4CdsVdNpgJSI26INYzDqaGREKI8=\", false, function () {\n  return [Form.useForm];\n});\n\n_c2 = EditableTable;\nexport default EditableTable;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"EditableCell\");\n$RefreshReg$(_c2, \"EditableTable\");","map":{"version":3,"sources":["/home/root-pc/Desktop/INTERN/projects/my-app/src/components/EditableTable.tsx"],"names":["React","useState","useEffect","Table","Button","Input","InputNumber","Popconfirm","Form","Typography","originData","EditableCell","editing","dataIndex","title","inputType","record","index","children","restProps","inputNode","margin","required","message","EditableTable","form","useForm","editingKey","setEditingKey","count","setCount","isModalVisible","setIsModalVisible","showModal","handleOk","handleCancel","fetch","then","response","json","res","console","log","map","x11","push","id","name","email","setData","data","isEditing","key","edit","setFieldsValue","age","address","delete1","view","cancel","save","row","validateFields","newData","findIndex","item","splice","errInfo","columns","width","editable","render","_","marginRight","mergedColumns","col","onCell","body","cell","onChange"],"mappings":"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","sourcesContent":["import React,{ useState,useEffect } from 'react'\nimport { Table, Button,Input, Modal,InputNumber, Popconfirm, Form, Typography } from 'antd';\nimport './TableCom.css';\n\n\n\ninterface Item {\n  key: string;\n  name: string;\n  age: number;\n  address: string;\n}\n  \n  let originData: Item[]=[];\n  // for (let i = 0; i < 10; i++) {\n  //   originData.push({\n  //     key: i.toString(),\n  //     name: `Edrward ${i}`,\n  //     age: 32,\n  //     address: `London Park no. ${i}`,\n  //   });\n  // }\n\n\n  interface EditableCellProps extends React.HTMLAttributes<HTMLElement> {\n    editing: boolean;\n    dataIndex: string;\n    title: any;\n    inputType: 'number' | 'text';\n    record: Item;\n    index: number;\n    children: React.ReactNode;\n  }\n  \n  const EditableCell: React.FC<EditableCellProps> = ({\n    editing,\n    dataIndex,\n    title,\n    inputType,\n    record,\n    index,\n    children,\n    ...restProps\n  }) => {\n    const inputNode = inputType === 'number' ? <InputNumber /> : <Input />;\n  \n    return (\n      <td {...restProps}>\n        {editing ? (\n          <Form.Item\n            name={dataIndex}\n            style={{ margin: 0 }}\n            rules={[\n              {\n                required: true,\n                message: `Please Input ${title}!`,\n              },\n            ]}\n          >\n            {inputNode}\n          </Form.Item>\n        ) : (\n          children\n        )}\n      </td>\n    );\n  };\n\n\n  \n  const EditableTable = () => {\n    const [form] = Form.useForm();\n    \n    const [editingKey, setEditingKey] = useState('');\n    const [count, setCount] = useState(0);\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n\n\n    const showModal = () => {\n      setIsModalVisible(true);\n    };\n  \n    const handleOk = () => {\n      setIsModalVisible(false);\n    };\n  \n    const handleCancel = () => {\n      setIsModalVisible(false);\n    };\n\n\n    useEffect(() => {\n      fetch('https://jsonplaceholder.typicode.com/users').then(response=>response.json()).then(\n        \n      res=>{\n        \n        \n        console.log(res);\n        res.map((x11:any,index:number)=>originData.push({\"key\":x11.id,\"name\":x11.name,\"age\":x11.id,\"address\":x11.email}));\n        console.log(\"originData------>\",originData);\n        setData(originData);\n        }\n        \n      \n      \n      );\n     }, []);\n     const [data, setData] = useState(originData);\n    const isEditing = (record: Item) => record.key === editingKey;\n  \n    const edit = (record: Partial<Item> & { key: React.Key }) => {\n      form.setFieldsValue({ name: '', age: '', address: '', ...record });\n      setEditingKey(record.key);\n    };\n\n\n    const delete1 = (record: Partial<Item> & { key: React.Key }) => {\n      form.setFieldsValue({});\n      setEditingKey(record.key);\n    };\n\n    const view = (record: Partial<Item> & { key: React.Key }) => {\n      form.setFieldsValue({});\n      setEditingKey(record.key);\n    };\n  \n    const cancel = () => {\n      setEditingKey('');\n    };\n  \n    const save = async (key: React.Key) => {\n      try {\n        const row = (await form.validateFields()) as Item;\n  \n        const newData = [...data];\n        const index = newData.findIndex(item => key === item.key);\n        if (index > -1) {\n          const item = newData[index];\n          newData.splice(index, 1, {\n            ...item,\n            ...row,\n          });\n          setData(newData);\n          setEditingKey('');\n        } else {\n          newData.push(row);\n          setData(newData);\n          setEditingKey('');\n        }\n      } catch (errInfo) {\n        console.log('Validate Failed:', errInfo);\n      }\n    };\n  \n    const columns = [\n      {\n        title: 'name',\n        dataIndex: 'name',\n        width: '25%',\n        editable: true,\n      },\n      {\n        title: 'age',\n        dataIndex: 'age',\n        width: '15%',\n        editable: true,\n      },\n      {\n        title: 'address',\n        dataIndex: 'address',\n        width: '40%',\n        editable: true,\n      },\n      {\n        title: 'operation',\n        dataIndex: 'operation',\n        render: (_: any, record: Item) => {\n          const editable = isEditing(record);\n          return editable ? (\n            <span>\n              <a href=\"javascript:;\" onClick={() => save(record.key)} style={{ marginRight: 8 }}>\n                Save\n              </a>\n              <Popconfirm title=\"Sure to cancel?\" onConfirm={cancel}>\n                <a>Cancel</a>\n              </Popconfirm>\n            </span>\n          ) : (\n           <>\n            {/* <Typography.Link disabled={editingKey !== ''} onClick={() => view(record)} style={{ marginRight: 8 }}>\n             View\n           </Typography.Link> */}\n\n           <Button type=\"primary\" onClick={showModal}>\n               View\n           </Button>\n            <Typography.Link disabled={editingKey !== ''} onClick={() => edit(record)} style={{ marginRight: 8 }}>\n              Edit\n            </Typography.Link>\n             <Typography.Link disabled={editingKey !== ''} onClick={() => delete1(record)}>\n             Delete\n           </Typography.Link>\n           </>\n          );\n        },\n      },\n    ];\n  \n    const mergedColumns = columns.map(col => {\n      if (!col.editable) {\n        return col;\n      }\n      return {\n        ...col,\n        onCell: (record: Item) => ({\n          record,\n          inputType: col.dataIndex === 'age' ? 'number' : 'text',\n          dataIndex: col.dataIndex,\n          title: col.title,\n          editing: isEditing(record),\n        }),\n      };\n    });\n\n    // const handleAdd = () => {\n \n    //   const newData: Item = {\n    //     key: String(count),\n    //     name: `Edward King ${count}`,\n    //     age: '32',\n    //     address: `London, Park Lane no. ${count}`,\n    //   };\n    //   this.setState({\n    //     dataSource: [...dataSource, newData],\n    //     count: count + 1,\n    //   });\n    // };\n    return (\n\n      <>\n      {/* <Button onClick={handleAdd} type=\"primary\" style={{ marginBottom: 16 }}>\n          Add a row\n        </Button> */}\n      <Form form={form} component={false}>\n        <Table\n          components={{\n            body: {\n              cell: EditableCell,\n            },\n          }}\n          bordered\n          dataSource={data}\n          columns={mergedColumns}\n          rowClassName=\"editable-row\"\n          pagination={{\n            onChange: cancel,\n          }}\n        />\n      </Form>\n      </>\n    );\n  };\n\n  export default EditableTable;\n"]},"metadata":{},"sourceType":"module"}